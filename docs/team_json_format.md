# 팀 설정 JSON 포맷 스펙

## 개요

이 문서는 축구 시뮬레이션 게임의 팀 설정을 위한 JSON 포맷을 정의합니다.

## 실행 방법

```bash
python sim_soccer.py a.json b.json
```

첫 번째 파일(a.json)이 홈 팀, 두 번째 파일(b.json)이 원정 팀으로 설정됩니다.

## JSON 스키마

### 전체 구조

```json
{
  "team_name": string,
  "formation": string,
  "players": [
    {
      "player_id": int,
      "name": string,
      "position": string,
      "stats": {
        "PAS": int,
        "DRI": int,
        "SHO": int,
        "SPA": int,
        "TAC": int,
        "INT": int,
        "STA": int
      }
    }
  ],
  "tactics": {
    "attack": int,
    "pass_style": int,
    "pressing": int,
    "defense_line": int,
    "transition_speed": int,
    "width": int
  }
}
```

### 필드 설명

#### 최상위 필드

| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| `team_name` | string | 예 | 팀 이름 |
| `formation` | string | 예 | 포메이션 (예: "1-4-4-2", "1-4-3-3") |
| `players` | array | 예 | 선수 배열 (정확히 11명) |
| `tactics` | object | 예 | 전술 설정 |

#### players 배열 요소

| 필드명 | 타입 | 필수 | 설명 |
|--------|------|------|------|
| `player_id` | int | 예 | 선수 ID (1-11, 고유값) |
| `name` | string | 예 | 선수 이름 |
| `position` | string | 예 | 포지션 ("GK", "DF", "MF", "FW") |
| `stats` | object | 예 | 스탯 객체 |

#### stats 객체

| 필드명 | 타입 | 범위 | 설명 |
|--------|------|------|------|
| `PAS` | int | 1-10 | 패스 정확도 |
| `DRI` | int | 1-10 | 드리블 능력 |
| `SHO` | int | 1-10 | 슈팅 정확도 |
| `SPA` | int | 1-10 | 공간 감각 |
| `TAC` | int | 1-10 | 태클 능력 |
| `INT` | int | 1-10 | 인터셉트 능력 |
| `STA` | int | 1-10 | 체력 |

#### tactics 객체

| 필드명 | 타입 | 범위 | 기본값 | 설명 |
|--------|------|------|--------|------|
| `attack` | int | 1-10 | 5 | 공격성 (1=수비적, 10=공격적) |
| `pass_style` | int | 1-10 | 5 | 패스 스타일 (1=짧은 패스, 10=긴 패스) |
| `pressing` | int | 1-10 | 5 | 압박 강도 (1=낮음, 10=높음) |
| `defense_line` | int | 1-10 | 5 | 수비 라인 (1=하향, 10=상향) |
| `transition_speed` | int | 1-10 | 5 | 전환 속도 (1=느림, 10=빠름) |
| `width` | int | 1-10 | 5 | 폭 (1=좁음, 10=넓음) |

## 제약 조건

### 선수 관련

1. **선수 수**: 정확히 11명이어야 합니다.
2. **포지션 구성**: 
   - GK는 정확히 1명이어야 합니다.
   - DF, MF, FW의 합계는 10명이어야 합니다.
   - 포메이션 문자열과 실제 포지션 구성이 일치해야 합니다.
3. **player_id**: 1-11 범위의 고유한 정수값이어야 합니다.
4. **스탯 제약**:
   - 각 스탯은 1-10 범위의 정수여야 합니다.
   - 각 선수의 스탯 합계(PAS + DRI + SHO + SPA + TAC + INT + STA)는 해당 선수에게 할당된 포인트입니다.
   - 전체 11명 선수의 포인트 합계는 정확히 100이어야 합니다.
   - 최소 포인트: 선수당 7 포인트 (모든 스탯이 1일 때)
   - 최대 포인트: 선수당 70 포인트 (모든 스탯이 10일 때)

### 전술 관련

1. **값 범위**: 모든 전술 파라미터는 1-10 범위의 정수여야 합니다.
2. **기본값**: 값이 없으면 5로 설정됩니다.

## 검증 규칙

시뮬레이션 실행 전에 다음 검증이 수행됩니다:

1. **JSON 구조 검증**
   - 필수 필드 존재 확인
   - 타입 검증
   - 값 범위 검증

2. **선수 검증**
   - 선수 수 = 11명
   - player_id 고유성 확인
   - 포지션 구성 검증 (GK 1명)
   - 각 선수의 스탯 합계 계산
   - 전체 포인트 합계 = 100 확인

3. **전술 검증**
   - 모든 전술 파라미터가 1-10 범위인지 확인

## 포메이션 예시

### 1-4-4-2 (기본)
- GK: 1명
- DF: 4명
- MF: 4명
- FW: 2명

### 1-4-3-3
- GK: 1명
- DF: 4명
- MF: 3명
- FW: 3명

### 1-3-5-2
- GK: 1명
- DF: 3명
- MF: 5명
- FW: 2명

## 스탯 분배 전략 예시

### 균형형 팀
- 각 선수에게 평균 9.09 포인트 분배
- 모든 선수가 비슷한 수준의 스탯

### 특화형 팀
- 핵심 선수(공격수, 플레이메이커)에 포인트 집중
- 나머지 선수는 최소 포인트
- 예: 공격수 2명에 각 20 포인트, 나머지 9명에 각 6.67 포인트

### 포지션별 최적화
- GK: TAC, INT, SPA에 집중
- DF: TAC, INT, SPA에 집중
- MF: PAS, DRI, SPA에 집중
- FW: SHO, DRI, SPA에 집중

## 예시 파일

예시 파일은 `examples/` 디렉토리에 있습니다:
- `a.json`: 공격적 팀 예시
- `b.json`: 수비적 팀 예시

## 오류 처리

유효하지 않은 JSON 파일이 제공되면 다음 오류가 발생합니다:

- `ValidationError`: JSON 구조 또는 값 검증 실패
- `PlayerCountError`: 선수 수가 11명이 아님
- `PointSumError`: 전체 포인트 합계가 100이 아님
- `PositionError`: 포지션 구성이 잘못됨
- `StatRangeError`: 스탯 값이 1-10 범위를 벗어남
- `TacticRangeError`: 전술 값이 1-10 범위를 벗어남
